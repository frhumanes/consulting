{% extends "cal/includes/base.html" %}

{% load i18n %}

{% block title %}{% trans 'Calendar list' %}{% endblock %}


{% block right %}
  {% include "cal/includes/calendar_new_app_admin.html" %}
{% endblock %}

{% if not request.user.get_profile.is_doctor %}
  {% block left %}
    {{block.super}}
      {% include "cal/app/doctor_preferences.html" %}
    {% endblock %}
{% endif %}

{% block container %}
    <div class="well">
      <p>Dr. {{ doctor.get_profile.name }} {{ doctor.get_profile.first_surname }}</p>
    </div>
    <div class="well">
      <p>{% trans "Paciente:" %} {{ patient.get_profile.name }} {{ patient.get_profile.first_surname }}</p>
    </div>

    {% if events.object_list.count > 0 %}
        <div id="message-paginator" class="pagination pagination-centered">
          <ul>
            {% if events.has_previous %}
              <li><a href="?page={{ events.previous_page_number }}">←</a></li>
            {% else %}
              <li class="disabled"><a>←</a></li>
            {% endif %}

            {% if events.has_next %}
              <li><a href="?page={{ events.next_page_number }}">→</a></li>
            {% else %}
              <li class="disabled"><a>→</a></li>
            {% endif %}
          </ul>
        </div>

        <table id="message_list" class="table table-striped">
          <thead></thead>
          <tbody>
            {% for event in events.object_list %}
              {% include "cal/app/appointment.html" %}
            {% endfor %}
          </tbody>
        </table>

        <div id="preview"></div>
    {% else %}
        <div class="alert alert-info">{% trans "No hay citas concertadas para este día" %}</div>
    {% endif %}
{% endblock %}
